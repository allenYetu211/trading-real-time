<p align="center">
  <a href="http://nestjs.com/" target="blank"><img src="https://nestjs.com/img/logo-small.svg" width="120" alt="Nest Logo" /></a>
</p>

[circleci-image]: https://img.shields.io/circleci/build/github/nestjs/nest/master?token=abc123def456
[circleci-url]: https://circleci.com/gh/nestjs/nest

  <p align="center">A progressive <a href="http://nodejs.org" target="_blank">Node.js</a> framework for building efficient and scalable server-side applications.</p>
    <p align="center">
<a href="https://www.npmjs.com/~nestjscore" target="_blank"><img src="https://img.shields.io/npm/v/@nestjs/core.svg" alt="NPM Version" /></a>
<a href="https://www.npmjs.com/~nestjscore" target="_blank"><img src="https://img.shields.io/npm/l/@nestjs/core.svg" alt="Package License" /></a>
<a href="https://www.npmjs.com/~nestjscore" target="_blank"><img src="https://img.shields.io/npm/dm/@nestjs/common.svg" alt="NPM Downloads" /></a>
<a href="https://circleci.com/gh/nestjs/nest" target="_blank"><img src="https://img.shields.io/circleci/build/github/nestjs/nest/master" alt="CircleCI" /></a>
<a href="https://coveralls.io/github/nestjs/nest?branch=master" target="_blank"><img src="https://coveralls.io/repos/github/nestjs/nest/badge.svg?branch=master#9" alt="Coverage" /></a>
<a href="https://discord.gg/G7Qnnhy" target="_blank"><img src="https://img.shields.io/badge/discord-online-brightgreen.svg" alt="Discord"/></a>
<a href="https://opencollective.com/nest#backer" target="_blank"><img src="https://opencollective.com/nest/backers/badge.svg" alt="Backers on Open Collective" /></a>
<a href="https://opencollective.com/nest#sponsor" target="_blank"><img src="https://opencollective.com/nest/sponsors/badge.svg" alt="Sponsors on Open Collective" /></a>
  <a href="https://paypal.me/kamilmysliwiec" target="_blank"><img src="https://img.shields.io/badge/Donate-PayPal-ff3f59.svg" alt="Donate us"/></a>
    <a href="https://opencollective.com/nest#sponsor"  target="_blank"><img src="https://img.shields.io/badge/Support%20us-Open%20Collective-41B883.svg" alt="Support us"></a>
  <a href="https://twitter.com/nestframework" target="_blank"><img src="https://img.shields.io/twitter/follow/nestframework.svg?style=social&label=Follow" alt="Follow us on Twitter"></a>
</p>
  <!--[![Backers on Open Collective](https://opencollective.com/nest/backers/badge.svg)](https://opencollective.com/nest#backer)
  [![Sponsors on Open Collective](https://opencollective.com/nest/sponsors/badge.svg)](https://opencollective.com/nest#sponsor)-->

## Description

[Nest](https://github.com/nestjs/nest) framework TypeScript starter repository.

## Project setup

```bash
$ pnpm install
```

## Compile and run the project

```bash
# development
$ pnpm run start

# watch mode
$ pnpm run start:dev

# production mode
$ pnpm run start:prod
```

## Run tests

```bash
# unit tests
$ pnpm run test

# e2e tests
$ pnpm run test:e2e

# test coverage
$ pnpm run test:cov
```

## Deployment

When you're ready to deploy your NestJS application to production, there are some key steps you can take to ensure it runs as efficiently as possible. Check out the [deployment documentation](https://docs.nestjs.com/deployment) for more information.

If you are looking for a cloud-based platform to deploy your NestJS application, check out [Mau](https://mau.nestjs.com), our official platform for deploying NestJS applications on AWS. Mau makes deployment straightforward and fast, requiring just a few simple steps:

```bash
$ pnpm install -g mau
$ mau deploy
```

With Mau, you can deploy your application in just a few clicks, allowing you to focus on building features rather than managing infrastructure.

## Resources

Check out a few resources that may come in handy when working with NestJS:

- Visit the [NestJS Documentation](https://docs.nestjs.com) to learn more about the framework.
- For questions and support, please visit our [Discord channel](https://discord.gg/G7Qnnhy).
- To dive deeper and get more hands-on experience, check out our official video [courses](https://courses.nestjs.com/).
- Deploy your application to AWS with the help of [NestJS Mau](https://mau.nestjs.com) in just a few clicks.
- Visualize your application graph and interact with the NestJS application in real-time using [NestJS Devtools](https://devtools.nestjs.com).
- Need help with your project (part-time to full-time)? Check out our official [enterprise support](https://enterprise.nestjs.com).
- To stay in the loop and get updates, follow us on [X](https://x.com/nestframework) and [LinkedIn](https://linkedin.com/company/nestjs).
- Looking for a job, or have a job to offer? Check out our official [Jobs board](https://jobs.nestjs.com).

## Support

Nest is an MIT-licensed open source project. It can grow thanks to the sponsors and support by the amazing backers. If you'd like to join them, please [read more here](https://docs.nestjs.com/support).

## Stay in touch

- Author - [Kamil MyÅ›liwiec](https://twitter.com/kammysliwiec)
- Website - [https://nestjs.com](https://nestjs.com/)
- Twitter - [@nestframework](https://twitter.com/nestframework)

## License

Nest is [MIT licensed](https://github.com/nestjs/nest/blob/master/LICENSE).

# ğŸš€ å¤šå¸ç§å›¾åƒç»“æ„è¯†åˆ«ä¸è¾…åŠ©äº¤æ˜“ç­–ç•¥ç³»ç»Ÿ

åŸºäºNestJS + Prisma + PostgreSQLçš„å®æ—¶äº¤æ˜“è¾…åŠ©ç³»ç»Ÿï¼Œé€šè¿‡Binance APIè·å–Kçº¿æ•°æ®ï¼Œè¯†åˆ«å›¾å½¢ç»“æ„å¹¶æä¾›ç­–ç•¥å»ºè®®ã€‚

## ğŸ“‹ é¡¹ç›®ç‰¹æ€§

- ğŸ”§ **å¸ç§é…ç½®ç®¡ç†** - æ”¯æŒå¤šå¸ç§ç›‘æ§é…ç½®
- ğŸ“Š **å®æ—¶æ•°æ®è·å–** - é›†æˆBinance APIå’ŒWebSocket
- ğŸ¯ **å›¾å½¢ç»“æ„è¯†åˆ«** - è¯†åˆ«ç®±ä½“ã€çªç ´ç­‰å½¢æ€
- ğŸ“ˆ **ç­–ç•¥ä¿¡å·ç”Ÿæˆ** - å¤šç§äº¤æ˜“ç­–ç•¥æ”¯æŒ
- ğŸ—„ï¸ **æ•°æ®å­˜å‚¨** - PostgreSQL + Redisç¼“å­˜
- ğŸ³ **Dockeræ”¯æŒ** - æœ¬åœ°å¼€å‘ç¯å¢ƒå¿«é€Ÿå¯åŠ¨

## ğŸ›  æŠ€æœ¯æ ˆ

- **åç«¯æ¡†æ¶**: NestJS + TypeScript
- **æ•°æ®åº“**: PostgreSQL (é€šè¿‡Prisma ORM)
- **ç¼“å­˜**: Redis
- **å¤–éƒ¨API**: Binance REST API + WebSocket
- **åŒ…ç®¡ç†**: pnpm

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒè¦æ±‚

- Node.js >= 18
- Docker & Docker Compose
- pnpm

### 2. é¡¹ç›®å®‰è£…

```bash
# å…‹éš†é¡¹ç›®
git clone <repository-url>
cd real-time-token

# å®‰è£…ä¾èµ–
pnpm install

# å¯åŠ¨æ•°æ®åº“æœåŠ¡
docker-compose up -d

# è¿è¡Œæ•°æ®åº“è¿ç§»
npx prisma migrate dev

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
pnpm start:dev
```

### 3. ä½¿ç”¨ç®¡ç†è„šæœ¬ï¼ˆæ¨èï¼‰

é¡¹ç›®æä¾›äº†ä¾¿æ·çš„ç®¡ç†è„šæœ¬ï¼š

```bash
# å¯åŠ¨å®Œæ•´å¼€å‘ç¯å¢ƒï¼ˆæ•°æ®åº“ + åº”ç”¨ï¼‰
./scripts/manage.sh dev

# æµ‹è¯•APIåŠŸèƒ½
./scripts/manage.sh test

# æ·»åŠ å¸ç§é…ç½®
./scripts/manage.sh add BTCUSDT 1h

# æŸ¥çœ‹æ•°æ®åº“æ•°æ®
./scripts/manage.sh db-view

# åœæ­¢ç¯å¢ƒ
./scripts/manage.sh stop

# é‡ç½®æ•°æ®åº“
./scripts/manage.sh db-reset
```

## ğŸ“¡ API æ¥å£

### å¸ç§é…ç½®ç®¡ç†

```bash
# åˆ›å»ºé…ç½®
POST /api/coins/config
{
  "symbol": "BTCUSDT",
  "interval": "1h",
  "isActive": true
}

# è·å–é…ç½®åˆ—è¡¨
GET /api/coins/list

# è·å–æ´»è·ƒé…ç½®
GET /api/coins/active

# è·å–ç»Ÿè®¡ä¿¡æ¯
GET /api/coins/stats

# æ›´æ–°é…ç½®
PATCH /api/coins/:id

# åˆ é™¤é…ç½®
DELETE /api/coins/:id

# æ‰¹é‡å¯ç”¨/ç¦ç”¨
POST /api/coins/batch-active
{
  "ids": [1, 2, 3],
  "isActive": true
}
```

### ç¤ºä¾‹å“åº”

**è·å–é…ç½®åˆ—è¡¨**
```json
[
  {
    "id": 1,
    "symbol": "BTCUSDT",
    "interval": "1h",
    "isActive": true,
    "createdAt": "2025-07-20T07:49:01.327Z",
    "updatedAt": "2025-07-20T07:49:01.327Z"
  }
]
```

**è·å–ç»Ÿè®¡ä¿¡æ¯**
```json
{
  "total": 4,
  "active": 3,
  "inactive": 1,
  "byInterval": {
    "1h": 1,
    "4h": 1,
    "1d": 1,
    "15m": 1
  }
}
```

## ğŸ—„ï¸ æ•°æ®åº“ç»“æ„

### å¸ç§é…ç½®è¡¨ (coin_configs)
```sql
CREATE TABLE coin_configs (
  id SERIAL PRIMARY KEY,
  symbol VARCHAR(20) NOT NULL,
  interval VARCHAR(10) NOT NULL,
  is_active BOOLEAN DEFAULT true,
  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW(),
  UNIQUE(symbol, interval)
);
```

### Kçº¿æ•°æ®è¡¨ (kline_data)
```sql
CREATE TABLE kline_data (
  id SERIAL PRIMARY KEY,
  symbol VARCHAR(20) NOT NULL,
  interval VARCHAR(10) NOT NULL,
  open_time BIGINT NOT NULL,
  close_time BIGINT NOT NULL,
  open_price DECIMAL(20,8) NOT NULL,
  high_price DECIMAL(20,8) NOT NULL,
  low_price DECIMAL(20,8) NOT NULL,
  close_price DECIMAL(20,8) NOT NULL,
  volume DECIMAL(20,8) NOT NULL,
  -- ... å…¶ä»–å­—æ®µ
  UNIQUE(symbol, interval, open_time)
);
```

## ğŸ³ Docker æœåŠ¡

é¡¹ç›®åŒ…å«ä»¥ä¸‹DockeræœåŠ¡ï¼š

- **PostgreSQL** - ä¸»æ•°æ®åº“ (ç«¯å£: 5432)
- **Redis** - ç¼“å­˜æœåŠ¡ (ç«¯å£: 6379)

```bash
# å¯åŠ¨æœåŠ¡
docker-compose up -d

# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
docker-compose ps

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f postgres

# è¿›å…¥æ•°æ®åº“
docker-compose exec postgres psql -U postgres -d trading_system

# åœæ­¢æœåŠ¡
docker-compose down
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
src/
â”œâ”€â”€ config/                 # é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ app.config.ts
â”‚   â”œâ”€â”€ database.config.ts
â”‚   â”œâ”€â”€ redis.config.ts
â”‚   â””â”€â”€ binance.config.ts
â”œâ”€â”€ prisma/                 # Prismaé…ç½®
â”‚   â”œâ”€â”€ prisma.service.ts
â”‚   â””â”€â”€ prisma.module.ts
â”œâ”€â”€ shared/                 # å…±äº«æ¨¡å—
â”‚   â”œâ”€â”€ enums/              # æšä¸¾å®šä¹‰
â”‚   â”œâ”€â”€ interfaces/         # æ¥å£å®šä¹‰
â”‚   â””â”€â”€ utils/              # å·¥å…·ç±»
â””â”€â”€ modules/
    â”œâ”€â”€ coin-config/        # å¸ç§é…ç½®æ¨¡å—
    â”‚   â”œâ”€â”€ dto/
    â”‚   â”œâ”€â”€ coin-config.controller.ts
    â”‚   â”œâ”€â”€ coin-config.service.ts
    â”‚   â””â”€â”€ coin-config.module.ts
    â”œâ”€â”€ data/               # æ•°æ®è·å–æ¨¡å—ï¼ˆè®¡åˆ’ä¸­ï¼‰
    â”œâ”€â”€ analysis/           # åˆ†ææ¨¡å—ï¼ˆè®¡åˆ’ä¸­ï¼‰
    â””â”€â”€ strategy/           # ç­–ç•¥æ¨¡å—ï¼ˆè®¡åˆ’ä¸­ï¼‰
```

## ğŸ”„ å¼€å‘è®¡åˆ’

### âœ… å·²å®Œæˆ
- [x] é¡¹ç›®åŸºç¡€æ¶æ„æ­å»º
- [x] Prisma + PostgreSQLé›†æˆ
- [x] å¸ç§é…ç½®ç®¡ç†åŠŸèƒ½
- [x] Dockerå¼€å‘ç¯å¢ƒ
- [x] APIæ¥å£å’Œæ–‡æ¡£

### ğŸš§ è¿›è¡Œä¸­
- [ ] Binance APIæ•°æ®è·å–
- [ ] WebSocketå®æ—¶æ•°æ®æµ
- [ ] Redisç¼“å­˜é›†æˆ

### ğŸ“‹ å¾…å¼€å‘
- [ ] æŠ€æœ¯æŒ‡æ ‡è®¡ç®—
- [ ] å›¾å½¢ç»“æ„è¯†åˆ«
- [ ] äº¤æ˜“ç­–ç•¥å®ç°
- [ ] é€šçŸ¥ç³»ç»Ÿ
- [ ] Webç®¡ç†ç•Œé¢

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## âš ï¸ å…è´£å£°æ˜

æœ¬ç³»ç»Ÿä»…ä¾›å­¦ä¹ å’Œç ”ç©¶ä½¿ç”¨ï¼Œä¸æ„æˆæŠ•èµ„å»ºè®®ã€‚æ‰€æœ‰äº¤æ˜“å†³ç­–åº”ç”±ç”¨æˆ·ç‹¬ç«‹åšå‡ºï¼Œä½¿ç”¨æœ¬ç³»ç»Ÿäº§ç”Ÿçš„ä»»ä½•æŸå¤±ï¼Œå¼€å‘è€…ä¸æ‰¿æ‹…è´£ä»»ã€‚
# trading-real-time
